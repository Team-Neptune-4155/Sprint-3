#!/usr/bin/env python
"""Django's command-line utility for administrative tasks."""
import os
import sys
import mysql.connector
import json


def main():
    """Run administrative tasks."""
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'storefront.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)



def initDB():
    mydb = mysql.connector.connect(
        host="localhost",
        user="root",
        password="32011509",
        database="roommatedb"
    )


    mycursor = mydb.cursor()

    mycursor.execute("DROP TABLE if exists schedules")
    mycursor.execute("DROP TABLE if exists rooms")
    mycursor.execute("CREATE TABLE `rooms` (`id` varchar(100) NOT NULL,`roomNum` int NOT NULL,`building` varchar(100) NOT NULL, `capacity` int DEFAULT NULL, `studyType` varchar(100) DEFAULT NULL, `description` varchar(100) DEFAULT NULL, PRIMARY KEY (`id`), UNIQUE KEY `roomNum` (`roomNum`,`building`), UNIQUE KEY `id_UNIQUE` (`id`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci; ")
    mycursor.execute("CREATE TABLE `schedules` (`id` int NOT NULL AUTO_INCREMENT, `room` int NOT NULL, `course_name` varchar(200) NOT NULL, `instructor` varchar(100) DEFAULT NULL, `day_of_week` enum('Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday') NOT NULL, `start_time` time NOT NULL, `end_time` time NOT NULL, PRIMARY KEY (`id`), KEY `room` (`room`), CONSTRAINT `schedules_ibfk_1` FOREIGN KEY (`room`) REFERENCES `rooms` (`roomNum`) ON DELETE CASCADE) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;")

    mycursor.execute("INSERT INTO `rooms`(`id`,`roomNum`,`building`,`capacity`,`studytype`, `description`) VALUES ('WW155', 155, 'Woodward', 76, 'Active Learning', 'example'), ('WW150', 150, 'Woodward', 76, 'Active Learning', 'example'), ('WW135', 135, 'Woodward', 75, 'Active Learning', 'example'), ('WW130', 130, 'Woodward', 75, 'Active Learning', 'example'), ('WW125', 125, 'Woodward', 75, 'Active Learning', 'example'), ('WW120', 120, 'Woodward', 75, 'Active Learning', 'example'), ('WW106', 106, 'Woodward', 135, 'Active Learning', 'example');")
    mycursor.execute("INSERT INTO `schedules` ( `room`, `course_name`, `instructor`, `day_of_week`, `start_time`, `end_time`) VALUES ( 155, 'Intro to Game Design & Dvlpmnt', 'Bahamon, Julio Cesar', 'Monday', '8:00:00', '8:50:00'), (155, 'Topics in Computer Science', 'Schuckers, Stephanie', 'Monday', '9:05:00', '9:55:00'), (155, 'Parallel Computing', 'Schuckers, Stephanie', 'Monday', '10:10:00', '11:00:00'), (155, 'Intro Interactive Comp Graphic', 'Wang, Jinzhen', 'Monday', '11:15:00', '12:05:00'), (155, 'Database Design & Implem', 'Dobbs, Bryan T', 'Monday', '12:20:00', '13:10:00'), (155, 'Parallel ComputingLogic and Algorithms', 'Logic and Algorithms', 'Monday', '13:25:00', '14:15:00'), (155, 'Prin of Biochemistry I', 'Ge, Eva; Etzkorn, Markus', 'Monday', '14:30:00', '16:30:00'), (155, 'Data Structures and Algorithms', 'Wilson, Dale-Marie Cretia Anne', 'Tuesday', '10:00:00', '11:15:00'), (155, 'Data Structures and Algorithms', 'Wilson, Dale-Marie Cretia Anne', 'Tuesday', '11:30:00', '12:45:00'), (155, 'Logic and Algorithms', 'Cao, Lijuan', 'Tuesday', '14:30:00', '15:45:00'), (155, 'Intro to Game Design & Dvlpmnt', 'Bahamon, Julio Cesar', 'Wednesday', '8:00:00', '8:50:00'), (155, 'Topics in Computer Science', 'Schuckers, Stephanie', 'Wednesday', '9:05:00', '9:55:00'), (155, 'Parallel Computing', 'Schuckers, Stephanie', 'Wednesday', '10:10:00', '11:00:00'), (155, 'Intro Interactive Comp Graphic', 'Wang, Jinzhen', 'Wednesday', '11:15:00', '12:05:00'), (155, 'Database Design & Implem', 'Dobbs, Bryan T', 'Wednesday', '12:20:00', '13:10:00'), (155, 'Parallel ComputingLogic and Algorithms', 'Logic and Algorithms', 'Wednesday', '13:25:00', '14:15:00'), (155, 'Intro to Computer Systems', 'Yan, Yonghong', 'Wednesday', '14:30:00', '16:30:00'), (155, 'Data Structures and Algorithms', 'Wilson, Dale-Marie Cretia Anne', 'Thursday', '10:00:00', '11:15:00'), (155, 'Data Structures and Algorithms', 'Wilson, Dale-Marie Cretia Anne', 'Thursday', '11:30:00', '12:45:00'), (155, 'Logic and Algorithms', 'Cao, Lijuan', 'Thursday', '14:30:00', '15:45:00'), (155, 'Intro to Game Design & Dvlpmnt', 'Bahamon, Julio Cesar', 'Friday', '8:00:00', '8:50:00'), (155, 'Topics in Computer Science', 'Schuckers, Stephanie', 'Friday', '9:05:00', '9:55:00'), (155, 'Parallel Computing', 'Schuckers, Stephanie', 'Monday', '10:10:00', '11:00:00'), (155, 'Intro Interactive Comp Graphic', 'Wang, Jinzhen', 'Friday', '11:15:00', '12:05:00'), (155, 'Database Design & Implem', 'Dobbs, Bryan T', 'Friday', '12:20:00', '13:10:00'), (155, 'Parallel ComputingLogic and Algorithms', 'Logic and Algorithms', 'Friday', '13:25:00', '14:15:00');")
    mycursor.execute("INSERT INTO `schedules` (`room`, `course_name`, `instructor`, `day_of_week`, `start_time`, `end_time`) VALUES( 135, 'Data Structures and Algorithms', 'Perez Quinones, Manuel Angel', 'Monday', '14:30:00', '15:45:00'), ( 135, 'Intro Oper Syst & Networking', 'Ramaprasad, Harini', 'Tuesday', '8:30:00', '9:45:00'), ( 135, 'Intro to Info Security & Priv', 'Fu, Chenglong', 'Tuesday', '10:00:00', '11:15:00'), ( 135, 'Intro to Computer Systems', 'Yan, Yonghong', 'Tuesday', '11:30:00', '12:45:00'), ( 135, 'Data Structures and Algorithms', 'Benedict, Aileen C', 'Tuesday', '13:00:00', '14:15:00'), ( 135, 'Prin of Biochemistry I', 'Ge, Eva; Etzkorn, Markus', 'Tuesday', '14:30:00', '15:45:00'), ( 135, 'Data Structures and Algorithms', 'Perez Quinones, Manuel Angel', 'Wednesday', '14:30:00', '15:45:00'), ( 135, 'Intro Oper Syst & Networking', 'Ramaprasad, Harini', 'Thursday', '8:30:00', '9:45:00'), ( 135, 'Intro to Info Security & Priv', 'Fu, Chenglong', 'Thursday', '10:00:00', '11:15:00'), ( 135, 'Intro to Computer Systems', 'Yan, Yonghong', 'Thursday', '11:30:00', '12:45:00'), ( 135, 'Data Structures and Algorithms', 'Benedict, Aileen C', 'Thursday', '13:00:00', '14:15:00'), ( 135, 'Prin of Biochemistry I', 'Ge, Eva; Etzkorn, Markus', 'Thursday', '14:30:00', '15:45:00');")
    mycursor.execute("INSERT INTO `schedules` (`room`, `course_name`, `instructor`, `day_of_week`, `start_time`, `end_time`) VALUES ( 130, 'Intro to Computer Networks', 'Powell, Laurel B', 'Monday', '8:00:00', '8:50:00'), ( 130, 'Introduction to Data Mining', 'Benedict, Aileen C', 'Monday', '9:05:00', '9:55:00'), ( 130, 'Const Geotech & Foundations', 'Sears, Alison Elizabeth', 'Monday', '10:10:00', '11:00:00'), ( 130, 'Intro Artificial Intelligence', 'Bahamon, Julio Cesar', 'Monday', '11:15:00', '12:05:00'), ( 130, 'Data Structures and Algorithms', 'Thayer, Matthew James', 'Monday', '12:20:00', '13:10:00'), ( 130, 'Intro Oper Syst & Networking', 'Thayer, Matthew James', 'Monday', '13:25:00', '14:15:00'), ( 130, 'Software Engineering', 'Wiktor, Sandra Monika; Dorodchi, Mohsen M', 'Monday', '14:30:00', '15:45:00'), ( 130, 'Intro to Machine Learning', 'Lee, Minwoo', 'Tuesday', '8:30:00', '9:45:00'), ( 130, 'Introduction to Data Mining', 'Benedict, Aileen C', 'Tuesday', '10:00:00', '11:15:00'), ( 130, 'Logic and Algorithms', 'Rahman, A B M Mohaimenur', 'Tuesday', '11:30:00', '12:45:00'), ( 130, 'Logic and Algorithms', 'Rahman, A B M Mohaimenur', 'Tuesday', '13:00:00', '14:15:00'), ( 130, 'Secure Prog Penetr Testing', 'Fu, Chenglong', 'Tuesday', '14:30:00', '15:45:00'), ( 130, 'Intro to Computer Networks', 'Powell, Laurel B', 'Wednesday', '8:00:00', '8:50:00'), ( 130, 'Introduction to Data Mining', 'Benedict, Aileen C', 'Wednesday', '9:05:00', '9:55:00'), ( 130, 'Const Geotech & Foundations', 'Sears, Alison Elizabeth', 'Wednesday', '10:10:00', '11:00:00'), ( 130, 'Intro Artificial Intelligence', 'Bahamon, Julio Cesar', 'Wednesday', '11:15:00', '12:05:00'), ( 130, 'Data Structures and Algorithms', 'Thayer, Matthew James', 'Wednesday', '12:20:00', '13:10:00'), ( 130, 'Intro Oper Syst & Networking', 'Thayer, Matthew James', 'Wednesday', '13:25:00', '14:15:00'), ( 130, 'Software Engineering', 'Wiktor, Sandra Monika; Dorodchi, Mohsen M', 'Wednesday', '14:30:00', '15:45:00'), ( 130, 'Intro to Machine Learning', 'Lee, Minwoo', 'Thursday', '8:30:00', '9:45:00'), ( 130, 'Introduction to Data Mining', 'Benedict, Aileen C', 'Thursday', '10:00:00', '11:15:00'), ( 130, 'Logic and Algorithms', 'Rahman, A B M Mohaimenur', 'Thursday', '11:30:00', '12:45:00'), ( 130, 'Logic and Algorithms', 'Rahman, A B M Mohaimenur', 'Thursday', '13:00:00', '14:15:00'), ( 130, 'Secure Prog Penetr Testing', 'Fu, Chenglong', 'Thursday', '14:30:00', '15:45:00'), ( 130, 'Intro to Computer Networks', 'Powell, Laurel B', 'Friday', '8:00:00', '8:50:00'), ( 130, 'Introduction to Data Mining', 'Benedict, Aileen C', 'Friday', '9:05:00', '9:55:00'), ( 130, 'Const Geotech & Foundations', 'Sears, Alison Elizabeth', 'Friday', '10:10:00', '11:00:00'), ( 130, 'Intro Artificial Intelligence', 'Bahamon, Julio Cesar', 'Friday', '11:15:00', '12:05:00'), ( 130, 'Data Structures and Algorithms', 'Thayer, Matthew James', 'Friday', '12:20:00', '13:10:00'), ( 130, 'Intro Oper Syst & Networking', 'Thayer, Matthew James', 'Friday', '13:25:00', '14:15:00');")
    mycursor.execute("INSERT INTO `schedules` ( `room`, `course_name`, `instructor`, `day_of_week`, `start_time`, `end_time`) VALUES ( 125, 'Matrices & Linear Algebra', 'Dow, Alan S.', 'Monday', '8:00:00', '8:50:00'), ( 125, 'Oper Rsch-Deterministic Models', 'Dow, Alan S.', 'Monday', '9:05:00', '9:55:00'), ( 125, 'Intro Oper Syst & Networking', 'Thayer, Matthew James', 'Monday', '10:10:00', '11:00:00'), ( 125, 'Intro to Computer Systems', 'Yi, Xinyao', 'Monday', '13:25:00', '14:15:00'), ( 125, 'Prin of Biochemistry I', 'Etzkorn, Markus; Ge, Eva', 'Monday', '14:30:00', '16:30:00'), ( 125, 'Organic Chemistry I', 'Etzkorn, Markus', 'Tuesday', '8:30:00', '9:45:00'), ( 125, 'Prin of Biochemistry I', 'Etzkorn, Markus; Ge, Eva', 'Tuesday', '10:00:00', '11:15:00'), ( 125, 'Database Design & Implem', 'Jugan, Daniel Joseph', 'Tuesday', '11:30:00', '12:45:00'), ( 125, 'Adv Game Design & Development', 'Jugan, Daniel Joseph', 'Tuesday', '13:00:00', '14:15:00'), ( 125, 'Matrices & Linear Algebra', 'Dow, Alan S.', 'Wednesday', '8:00:00', '8:50:00'), ( 125, 'Oper Rsch-Deterministic Models', 'Dow, Alan S.', 'Wednesday', '9:05:00', '9:55:00'), ( 125, 'Intro Oper Syst & Networking', 'Thayer, Matthew James', 'Wednesday', '10:10:00', '11:00:00'), ( 125, 'Intro to Computer Systems', 'Yi, Xinyao', 'Wednesday', '13:25:00', '14:15:00'), ( 125, 'Organic Chemistry I', 'Etzkorn, Markus', 'Thursday', '8:30:00', '9:45:00'), ( 125, 'Prin of Biochemistry I', 'Etzkorn, Markus; Ge, Eva', 'Thursday', '10:00:00', '11:15:00'), ( 125, 'Database Design & Implem', 'Jugan, Daniel Joseph', 'Thursday', '11:30:00', '12:45:00'), ( 125, 'Adv Game Design & Development', 'Jugan, Daniel Joseph', 'Thursday', '13:00:00', '14:15:00'), ( 125, 'Matrices & Linear Algebra', 'Dow, Alan S.', 'Friday', '8:00:00', '8:50:00'), ( 125, 'Oper Rsch-Deterministic Models', 'Dow, Alan S.', 'Friday', '9:05:00', '9:55:00'), ( 125, 'Intro Oper Syst & Networking', 'Thayer, Matthew James', 'Friday', '10:10:00', '11:00:00'), ( 125, 'Intro to Computer Systems', 'Yi, Xinyao', 'Friday', '13:25:00', '14:15:00');")
    mycursor.execute("INSERT INTO `schedules` ( `room`, `course_name`, `instructor`, `day_of_week`, `start_time`, `end_time`) VALUES ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Tuesday', '8:30:00', '9:45:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Tuesday', '10:0:00', '11:15:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Tuesday', '11:30:00', '12:45:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Tuesday', '13:00:00', '14:15:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Tuesday', '14:30:00', '15:45:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Tuesday', '16:00:00', '17:15:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Tuesday', '17:30:00', '18:45:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Tuesday', '19:00:00', '20:15:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Thursday', '8:30:00', '9:45:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Thursday', '10:0:00', '11:15:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Thursday', '11:30:00', '12:45:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Thursday', '13:00:00', '14:15:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Thursday', '14:30:00', '15:45:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Thursday', '16:00:00', '17:15:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Thursday', '17:30:00', '18:45:00'), ( 120, 'Intro to Computer Science II', 'Najjar, Nadia Abusaymeh', 'Thursday', '19:00:00', '20:15:00');")
    mycursor.execute("INSERT INTO `schedules` ( `room`, `course_name`, `instructor`, `day_of_week`, `start_time`, `end_time`) VALUES ( 106, 'Genetics', 'Gardenal Augusto, Danillo', 'Monday', '14:30:00', '15:45:00'), ( 106, 'Principles of Biology I', 'Suptela, Samantha Rosa Lee', 'Tuesday', '10:00:00', '11:15:00'), ( 106, 'Human Anatomy', 'Somayaji, Shankari N', 'Tuesday', '13:00:00', '14:15:00'), ( 106, 'Genetics', 'Gardenal Augusto, Danillo', 'Wednesday', '14:30:00', '15:45:00'), ( 106, 'Principles of Biology I', 'Suptela, Samantha Rosa Lee', 'Thursday', '10:00:00', '11:15:00'), ( 106, 'Human Anatomy', 'Somayaji, Shankari N', 'Thursday', '13:00:00', '14:15:00');")
    #mycursor.execute("SELECT * FROM schedules")

    myresult = mycursor.fetchall()

    with open('static/rooms.json', 'w', encoding='utf-8') as f:
        json.dump(myresult, f, ensure_ascii=False, indent=4)

    for x in myresult:
        print(x)

if __name__ == '__main__':
    initDB()
    main()


