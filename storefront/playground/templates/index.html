{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Campus Building Availability</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'default.css' %}">
</head>
<body>
  <header class="d-flex align-items-center px-4 py-3">
    <div class="logo">
      <h1>RoomMate</h1>
    </div>

    <div class="ms-auto">
      <a href="{% url 'home' %}" class="btn btn-success me-2">Home</a>
      <a href="{% url 'contact' %}" class="btn btn-success me-2">Submit a Report </a>
      <a href="{% url 'about' %}" class="btn btn-success me-2">Meet the Team</a>
    </div>
  </header>
  <main>
    <!-- Side Panel -->
    <div class="side-panel" id="side-panel">
      <button id="toggle-panel">â˜°</button>
      <div class="panel-content">
        <h2>Room Availability</h2>
        <!-- Accordion with each room as its own item -->
        <div class="accordion" id="roomsAccordion">
          <div class="accordion-item">
              <div class="accordion-body">
                <p>Select a building to view available rooms.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Map Container -->
    <div class="map-container">
      <!-- Zoom and Reset Buttons -->
      <div class="zoom-controls">
        <div class="zoom-buttons">
          <button id="zoom-in">+</button>
          <button id="zoom-out">-</button>
        </div>
        <button id="reset-button">Reset</button>
      </div>
      <div class="color-key">
        <div class="key-item">
          <div class="color-box red"></div>
          <span class="key-label">Unavailable</span>
        </div>
        <div class="key-item">
          <div class="color-box green"></div>
          <span class="key-label">Available</span>
        </div>
        <div class="key-item">
          <div class="color-box orange"></div>
          <span class="key-label">Unavailable soon</span>
        </div>
      </div>
      <!-- SVG Map -->
      <svg width="1640" height="1912" viewBox="0 0 1640 1912" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path class="building" id="woodward" d="M75.5 949H219.5V912.5H259V707.5L285.5 712.5V628.5L259 638V439.5H845V375.5H890V245.5H845V216H745V186.5H380V216H272.5V294H228.5C216.386 253.3 202.599 241.248 172 229C138.052 220.469 119.758 223.376 89 248C67.662 274.143 61.5 294 65 333C73.5 385 136.547 400.405 136.5 401.5C136.453 402.595 136.5 439.5 136.5 439.5H39V585.5H17L1 675L17 760.5H39V912.5H75.5V949Z" stroke="white"/>
        <path class="room woodward" id="woodward-130" d="M137 451H54V506.5H137V451Z" stroke="white"/>
        <path class="room woodward" id="woodward-106" d="M244.5 714H160.5V896.5H244.5V714Z" stroke="white"/>
        <path class="room woodward" id="woodward-135" d="M251 451H199V506.5H251V451Z" stroke="white"/>
        <path class="room woodward" id="woodward-155" d="M565.5 282V196H484V282H565.5Z" stroke="white"/>
        <path class="room woodward" id="woodward-150" d="M471.5 282V196H391V282H471.5Z" stroke="white"/>
        <path class="room woodward" id="woodward-125" d="M137 521.5H54V577H137V521.5Z" stroke="white"/>
        <path class="room woodward" id="woodward-120" d="M251 521.5H199V577H251V521.5Z" stroke="white"/>
        <path class="building" id="mebane" d="M1254.5 79.5H1146V447.5H1254.5V492.5H1301.5V531H1446V492.5H1500.5V447.5H1523V79.5H1500.5V36.5H1464L1446 0.5H1313L1301.5 36.5H1254.5V79.5Z" stroke="white"/>
        <path class="building" id="sac" d="M866 802.5V1036H818.5V1068H681.5V1877.5H804L840 1887.5L872 1910.5L893.5 1887.5H915L944 1910.5L973 1887.5H987L1016 1910.5L1042 1877.5H1062.5L1094 1910.5L1113 1887.5H1134.5L1162 1910.5L1183.5 1887.5H1215L1234 1910.5L1255.5 1877.5H1284.5L1312 1910.5L1333.5 1877.5L1482 1867.5L1496.5 1731.5H1639.5V1646.5H1496.5L1504 1068H1436V802.5H1362.5V750.5H1326.5V802.5H866Z" stroke="white"/>
      </svg>
    </div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{% static 'script.js' %}"></script>
  <!-- Room Schedule Modal -->
  <div class="modal fade" id="scheduleModal" tabindex="-1" aria-labelledby="scheduleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="scheduleModalLabel">Room Schedule</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="scheduleContent">
          Loading schedule...
        </div>
      </div>
    </div>
  </div>
</body>
</html>
